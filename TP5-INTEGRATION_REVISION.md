## Fiche de révision pour le TP 5 - Intégration

### 1. **Concepts clés**
- **Primitives** :
  - Calcul avec SageMath : `integrate(f, x)` renvoie une primitive de \( f(x) \).
  - L'ensemble des primitives inclut une constante \( C \).
  - Les primitives impliquent parfois le logarithme népérien \( \log(x) \) (noté \( \ln(x) \) en mathématiques).
- **Intégrale définie** :
  - Syntaxe : `integral(f, x, a, b)` pour calculer <?xml version='1.0' encoding='UTF-8'?>
<!-- Generated by CodeCogs with dvisvgm 3.2.2 -->
<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='59.761455pt' height='33.359373pt' viewBox='-.876086 -.282867 59.761455 33.359373'>
<defs>
<path id='g2-102' d='M5.332005-4.805978C5.571108-4.805978 5.66675-4.805978 5.66675-5.033126C5.66675-5.152677 5.571108-5.152677 5.355915-5.152677H4.387547C4.614695-6.38406 4.782067-7.232877 4.877709-7.615442C4.94944-7.902366 5.200498-8.177335 5.511333-8.177335C5.762391-8.177335 6.01345-8.069738 6.133001-7.962142C5.66675-7.914321 5.523288-7.567621 5.523288-7.364384C5.523288-7.12528 5.702615-6.981818 5.929763-6.981818C6.168867-6.981818 6.527522-7.185056 6.527522-7.639352C6.527522-8.141469 6.025405-8.416438 5.499377-8.416438C4.985305-8.416438 4.483188-8.033873 4.244085-7.567621C4.028892-7.149191 3.90934-6.718804 3.634371-5.152677H2.833375C2.606227-5.152677 2.486675-5.152677 2.486675-4.937484C2.486675-4.805978 2.558406-4.805978 2.797509-4.805978H3.56264C3.347447-3.694147 2.857285-.992279 2.582316 .286924C2.379078 1.327024 2.199751 2.199751 1.601993 2.199751C1.566127 2.199751 1.219427 2.199751 1.004234 1.972603C1.613948 1.924782 1.613948 1.398755 1.613948 1.3868C1.613948 1.147696 1.43462 1.004234 1.207472 1.004234C.968369 1.004234 .609714 1.207472 .609714 1.661768C.609714 2.175841 1.135741 2.438854 1.601993 2.438854C2.82142 2.438854 3.323537 .251059 3.455044-.3467C3.670237-1.267248 4.25604-4.447323 4.315816-4.805978H5.332005Z'/>
<path id='g2-120' d='M5.66675-4.877709C5.284184-4.805978 5.140722-4.519054 5.140722-4.291905C5.140722-4.004981 5.36787-3.90934 5.535243-3.90934C5.893898-3.90934 6.144956-4.220174 6.144956-4.542964C6.144956-5.045081 5.571108-5.272229 5.068991-5.272229C4.339726-5.272229 3.93325-4.554919 3.825654-4.327771C3.550685-5.224408 2.809465-5.272229 2.594271-5.272229C1.374844-5.272229 .729265-3.706102 .729265-3.443088C.729265-3.395268 .777086-3.335492 .860772-3.335492C.956413-3.335492 .980324-3.407223 1.004234-3.455044C1.41071-4.782067 2.211706-5.033126 2.558406-5.033126C3.096389-5.033126 3.203985-4.531009 3.203985-4.244085C3.203985-3.981071 3.132254-3.706102 2.988792-3.132254L2.582316-1.494396C2.402989-.777086 2.056289-.119552 1.422665-.119552C1.362889-.119552 1.06401-.119552 .812951-.274969C1.243337-.358655 1.338979-.71731 1.338979-.860772C1.338979-1.099875 1.159651-1.243337 .932503-1.243337C.645579-1.243337 .334745-.992279 .334745-.609714C.334745-.107597 .896638 .119552 1.41071 .119552C1.984558 .119552 2.391034-.334745 2.642092-.824907C2.833375-.119552 3.431133 .119552 3.873474 .119552C5.092902 .119552 5.738481-1.446575 5.738481-1.709589C5.738481-1.769365 5.69066-1.817186 5.618929-1.817186C5.511333-1.817186 5.499377-1.75741 5.463512-1.661768C5.140722-.609714 4.447323-.119552 3.90934-.119552C3.490909-.119552 3.263761-.430386 3.263761-.920548C3.263761-1.183562 3.311582-1.374844 3.502864-2.163885L3.921295-3.789788C4.100623-4.507098 4.507098-5.033126 5.057036-5.033126C5.080946-5.033126 5.415691-5.033126 5.66675-4.877709Z'/>
<path id='g3-40' d='M3.88543 2.905106C3.88543 2.86924 3.88543 2.84533 3.682192 2.642092C2.486675 1.43462 1.817186-.537983 1.817186-2.976837C1.817186-5.296139 2.379078-7.292653 3.765878-8.703362C3.88543-8.810959 3.88543-8.834869 3.88543-8.870735C3.88543-8.942466 3.825654-8.966376 3.777833-8.966376C3.622416-8.966376 2.642092-8.105604 2.056289-6.933998C1.446575-5.726526 1.171606-4.447323 1.171606-2.976837C1.171606-1.912827 1.338979-.490162 1.960648 .789041C2.666002 2.223661 3.646326 3.000747 3.777833 3.000747C3.825654 3.000747 3.88543 2.976837 3.88543 2.905106Z'/>
<path id='g3-41' d='M3.371357-2.976837C3.371357-3.88543 3.251806-5.36787 2.582316-6.75467C1.876961-8.18929 .896638-8.966376 .765131-8.966376C.71731-8.966376 .657534-8.942466 .657534-8.870735C.657534-8.834869 .657534-8.810959 .860772-8.607721C2.056289-7.400249 2.725778-5.427646 2.725778-2.988792C2.725778-.669489 2.163885 1.327024 .777086 2.737733C.657534 2.84533 .657534 2.86924 .657534 2.905106C.657534 2.976837 .71731 3.000747 .765131 3.000747C.920548 3.000747 1.900872 2.139975 2.486675 .968369C3.096389-.251059 3.371357-1.542217 3.371357-2.976837Z'/>
<path id='g3-100' d='M3.58655-8.16538V-7.81868C4.399502-7.81868 4.495143-7.734994 4.495143-7.149191V-4.507098C4.244085-4.853798 3.730012-5.272229 3.000747-5.272229C1.613948-5.272229 .418431-4.100623 .418431-2.570361C.418431-1.052055 1.554172 .119552 2.86924 .119552C3.777833 .119552 4.303861-.478207 4.471233-.705355V.119552L6.156912 0V-.3467C5.34396-.3467 5.248319-.430386 5.248319-1.016189V-8.296887L3.58655-8.16538ZM4.471233-1.398755C4.471233-1.183562 4.471233-1.147696 4.303861-.884682C4.016936-.466252 3.526775-.119552 2.929016-.119552C2.618182-.119552 1.327024-.239103 1.327024-2.558406C1.327024-3.419178 1.470486-3.897385 1.733499-4.291905C1.972603-4.662516 2.450809-5.033126 3.048568-5.033126C3.789788-5.033126 4.208219-4.495143 4.327771-4.303861C4.471233-4.100623 4.471233-4.076712 4.471233-3.861519V-1.398755Z'/>
<path id='g1-97' d='M3.124284-3.036613C3.052553-3.172105 2.82142-3.514819 2.335243-3.514819C1.3868-3.514819 .342715-2.406974 .342715-1.227397C.342715-.398506 .876712 .079701 1.490411 .079701C2.000498 .079701 2.438854-.326775 2.582316-.486177C2.725778 .063761 3.267746 .079701 3.363387 .079701C3.730012 .079701 3.913325-.223163 3.977086-.358655C4.136488-.645579 4.24807-1.107846 4.24807-1.139726C4.24807-1.187547 4.216189-1.243337 4.120548-1.243337S4.008966-1.195517 3.961146-.996264C3.849564-.557908 3.698132-.143462 3.387298-.143462C3.203985-.143462 3.132254-.294894 3.132254-.518057C3.132254-.653549 3.203985-.924533 3.251806-1.123786S3.419178-1.801245 3.451059-1.944707L3.610461-2.550436C3.650311-2.741719 3.737983-3.076463 3.737983-3.116314C3.737983-3.299626 3.58655-3.363387 3.482939-3.363387C3.363387-3.363387 3.164134-3.283686 3.124284-3.036613ZM2.582316-.860772C2.183811-.310834 1.769365-.143462 1.514321-.143462C1.147696-.143462 .964384-.478207 .964384-.892653C.964384-1.267248 1.179577-2.12005 1.354919-2.470735C1.586052-2.956912 1.976588-3.291656 2.343213-3.291656C2.86127-3.291656 3.012702-2.709838 3.012702-2.614197C3.012702-2.582316 2.81345-1.801245 2.765629-1.594022C2.662017-1.219427 2.662017-1.203487 2.582316-.860772Z'/>
<path id='g1-98' d='M1.944707-5.292154C1.952677-5.308095 1.976588-5.411706 1.976588-5.419676C1.976588-5.459527 1.944707-5.531258 1.849066-5.531258C1.817186-5.531258 1.570112-5.507347 1.3868-5.491407L.940473-5.459527C.765131-5.443587 .68543-5.435616 .68543-5.292154C.68543-5.180573 .797011-5.180573 .892653-5.180573C1.275218-5.180573 1.275218-5.132752 1.275218-5.061021C1.275218-5.0132 1.195517-4.694396 1.147696-4.511083L.454296-1.737484C.390535-1.466501 .390535-1.346949 .390535-1.211457C.390535-.390535 .892653 .079701 1.506351 .079701C2.486675 .079701 3.506849-1.052055 3.506849-2.207721C3.506849-2.996762 2.996762-3.514819 2.359153-3.514819C1.912827-3.514819 1.570112-3.227895 1.39477-3.076463L1.944707-5.292154ZM1.506351-.143462C1.219427-.143462 .932503-.366625 .932503-.948443C.932503-1.163636 .964384-1.362889 1.060025-1.745455C1.115816-1.976588 1.171606-2.199751 1.235367-2.430884C1.275218-2.574346 1.275218-2.590286 1.370859-2.709838C1.641843-3.044583 2.000498-3.291656 2.335243-3.291656C2.733748-3.291656 2.885181-2.901121 2.885181-2.542466C2.885181-2.247572 2.709838-1.39477 2.470735-.924533C2.263512-.494147 1.880946-.143462 1.506351-.143462Z'/>
<path id='g0-2' d='M9.57609 .047821C9.193524 .167372 8.799004 .537983 8.476214 1.08792C7.974097 1.936737 7.627397 2.988792 7.017684 5.463512C5.941719 9.839103 5.212453 13.365878 4.435367 17.920797C3.718057 22.129016 3.239851 24.292902 2.761644 25.380822C2.630137 25.703611 2.367123 26.086177 2.235616 26.181818C2.092154 26.289415 1.733499 26.27746 1.494396 26.169863C1.255293 26.050311 1.219427 26.002491 1.362889 25.966625C1.853051 25.870984 1.996513 25.225405 1.590037 24.91457C1.482441 24.830884 1.422665 24.818929 1.231382 24.818929C1.052055 24.818929 .992279 24.830884 .872727 24.91457C.6934 25.058032 .633624 25.225405 .657534 25.488418C.729265 26.289415 1.733499 26.803487 2.49863 26.432877C2.797509 26.289415 3.180075 25.894894 3.419178 25.476463C3.957161 24.579826 4.291905 23.527771 4.97335 20.730262C6.025405 16.366625 6.694894 13.126775 7.460025 8.631631C8.177335 4.423412 8.667497 2.259527 9.133748 1.171606C9.27721 .860772 9.528269 .466252 9.671731 .37061S10.173848 .274969 10.400996 .382565C10.6401 .502117 10.675965 .549938 10.532503 .585803C10.054296 .681445 9.910834 1.327024 10.305355 1.637858C10.424907 1.721544 10.484682 1.745455 10.66401 1.745455C10.855293 1.745455 10.915068 1.721544 11.022665 1.637858C11.201993 1.494396 11.273724 1.327024 11.249813 1.075965C11.190037 .3467 10.31731-.167372 9.57609 .047821Z'/>
</defs>
<g id='page1' transform='matrix(1.13 0 0 1.13 -234.498965 -75.71402)'>
<use x='206.112287' y='69.129649' xlink:href='#g0-2'/>
<use x='218.067486' y='72.28449' xlink:href='#g1-98'/>
<use x='212.754067' y='96.1951' xlink:href='#g1-97'/>
<use x='224.1807' y='85.402093' xlink:href='#g2-102'/>
<use x='231.227137' y='85.402093' xlink:href='#g3-40'/>
<use x='235.779462' y='85.402093' xlink:href='#g2-120'/>
<use x='242.431549' y='85.402093' xlink:href='#g3-41'/>
<use x='246.983875' y='85.402093' xlink:href='#g3-100'/>
<use x='253.487198' y='85.402093' xlink:href='#g2-120'/>
</g>
</svg>
  - Approximation numérique : `N(integral(f, x, a, b))`.

---

### 2. **Exercices**
#### **Exercice 1 : Primitives**
- Utiliser `integrate` pour vérifier des primitives, ex. : 
  - \( \int \tan(t) \, \mathrm{d}t = -\ln(\cos(t)) \).
  - Vérification : `bool`.

#### **Exercice 2 : Calcul et graphes**
- Calcul exact de \( \int_0^1 \sqrt{1-x^2} \, \mathrm{d}x \) : \( \frac{\pi}{4} \).
- Graphe de l'intégrande avec `plot(aspect_ratio=1)`.

---

### 3. **Rappels Python**
- **Boucles** :
  - `for` et `while` pour itérer.
  - Création de listes : `[0 for j in range(n)]`.
- **Définir une fonction** :
  - Exemple : \( f(x) = x^2 \) si \( x \geq 0 \), sinon \( f(x) = 0 \).
  ```python
  def f(x):
      return x^2 if x >= 0 else 0
  ```

---

### 4. **Intégration numérique**
- **Méthodes simples** :
  - Rectangle : \( \tilde{I} = (b-a)f(a) \) ou \( (b-a)f\big(\frac{a+b}{2}\big) \).
  - Trapèze : \( \tilde{I} = (b-a)\frac{f(a)+f(b)}{2} \).
  - Simpson : \( \tilde{I} = \frac{b-a}{6}\big[f(a)+4f\big(\frac{a+b}{2}\big)+f(b)\big] \).
- **Méthodes composites** :
  - Découper \( [a, b] \) en \( n \) intervalles.
  - Exemples :
    - **Trapèzes** : \(\tilde{I} = \frac{b-a}{n}\big(\frac{f(a)+f(b)}{2} + \sum_{i=1}^{n-1} f(x_i)\big)\).

---

### 5. **Applications et exercices**
- Calculer \(\int_0^{5/2} f(x) \, \mathrm{d}x \) avec :
  - Rectangles : `h * sum(f[:-1])`.
  - Trapèzes : \((h/2) \times (f[0] + 2 \cdot \text{sum}(f[1:-1]) + f[-1])\).
- Représentation graphique des rectangles/trapèzes avec `Graphics` et `line`.

---

### 6. **Programmation avec Sage**
- Fonction `trapezes(f, a, b, n)` :
  - Calcul numérique par trapèzes.
  - Visualisation si \( n < 15 \).
  
--- 
